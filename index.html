<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Chat Zen</title>
<style>
body { font-family: Arial; display:flex;flex-direction:column;align-items:center;padding:20px;}
#messages { width:90%;height:350px;border:1px solid #ccc;padding:10px;overflow-y:auto;margin-bottom:10px; }
input { width:80%;padding:8px;font-size:16px; }
button { padding:8px 18px; margin-left:10px; }
</style>
</head>

<body>
<h2>Chat Zen</h2>

<div id="messages"></div>

<div>
<input id="messageInput" placeholder="Écris ton message..." />
<button onclick="sendMessage()">Envoyer</button>
</div>

<script>
const WEBHOOK_URL = "https://hook.eu1.make.com/uwz2nsjo2ahj1vd8n4ko3nrhlp9t7lao";

async function sendMessage() {
  const input = document.getElementById("messageInput");
  const message = input.value.trim();
  if (!message) return;

  // Affiche le message utilisateur
  document.getElementById("messages").innerHTML += "<p><b>Toi :</b> " + message + "</p>";

  input.value = ""; // Efface la zone de texte
  input.focus();    // Pour retaper directement

  // Envoi au webhook
  const response = await fetch(WEBHOOK_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message })
  });

  const result = await response.text();

  // Affiche la réponse du bot
  document.getElementById("messages").innerHTML += "<p><b>Bot :</b> " + result + "</p>";
}

// Envoi avec la touche Enter
document.getElementById("messageInput").addEventListener("keydown", function(event) {
  if (event.key === "Enter") {
    event.preventDefault();
    sendMessage();
  }
});
</script>

</body>
</html>




